<div class="dropdown" [class.open]="isOpen">
  <!-- Dropdown Button -->
  <button class="dropdown-button" (click)="toggleDropdown()">
    @if (icon) {
      <i class="{{ icon }}"></i>
    }
    {{ label }}
    <span class="arrow" [class.rotate]="isOpen">â–¼</span>
  </button>

  <!-- Dropdown Menu -->
  @if (isOpen) {
    <ul class="dropdown-menu">
      @for (item of menuItems; track item) {
        <!-- Single Dropdown Item -->
        @if (!item.submenu) {
          <li (click)="onItemClick(item, $event)">
            <a class="dropdown-item" [href]="item.href || '#'">
              @if (item.icon) {
                <i class="{{ item.icon }}"></i>
              }
              {{ item.label }}
            </a>
          </li>
        }

        <!-- Dropdown Item with Submenu -->
        @if (item.submenu) {
          <li class="dropdown-submenu">
            <a class="dropdown-item" (click)="onItemClick(item, $event)">
              @if (item.icon) {
                <i class="{{ item.icon }}"></i>
              }
              {{ item.label }}
            </a>
            <ul class="submenu">
              @for (subItem of item.submenu; track subItem) {
                <li (click)="onItemClick(subItem, $event)">
                  <a class="dropdown-item" [href]="subItem.href || '#'">
                    @if (subItem.icon) {
                      <i class="{{ subItem.icon }}"></i>
                    }
                    {{ subItem.label }}
                  </a>
                </li>
              }
            </ul>
          </li>
        }
      }
    </ul>
  }
</div>
